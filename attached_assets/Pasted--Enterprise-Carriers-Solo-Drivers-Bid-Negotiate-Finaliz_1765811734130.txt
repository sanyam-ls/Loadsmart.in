(Enterprise Carriers + Solo Drivers | Bid → Negotiate → Finalize → Invoice)

You are acting as a Principal System Architect finalizing the operational workflow of a live trucking marketplace.

The system already exists and includes:
	•	Admin Console (central authority)
	•	Shipper Portal
	•	Carrier Portal (enterprise fleets)
	•	Solo Driver Load Feed (BlackBuck-style)
	•	Load posting, pricing, bidding, negotiation, invoicing, tracking, and notifications

Your task is to synchronize behavior, sequencing, and authority across the system without changing any existing UI or removing any existing features, except where explicitly instructed.

You must:
	•	NOT write any code
	•	NOT redesign UI
	•	ONLY define exact behavioral rules, state transitions, visibility rules, and workflows
	•	Treat this as a production system, not a prototype

⸻

1. CORE BUSINESS MODEL (OVERRIDES ALL PREVIOUS LOGIC)

This platform is an ADMIN-MANAGED FREIGHT EXCHANGE, not a peer-to-peer marketplace.

Admin is the sole intermediary at all times.

There must never be:
	•	Direct shipper ↔ carrier negotiation
	•	Direct shipper ↔ carrier messaging
	•	Direct shipper ↔ carrier selection

All commercial decisions flow through Admin.

⸻

2. GLOBAL NON-NEGOTIABLE RULES
	•	A load is one single entity across the system
	•	A load may appear in multiple portals simultaneously
	•	A load has one source of truth
	•	A load can only be finalized once
	•	Invoices are outputs of finalized negotiation, never inputs

If any action requires a workaround → FAIL

⸻

3. ACTORS & ROLES (STRICT)

Shipper
	•	Submits load data only
	•	Never sets price
	•	Never sees bidding
	•	Never sees carrier options pre-finalization
	•	Only approves or rejects final invoice

Admin
	•	Prices loads
	•	Posts loads to carriers
	•	Receives and negotiates all bids
	•	Selects final carrier
	•	Generates and sends invoices
	•	Owns margin logic

Carrier (Two Personas, Same Backend)

A. Enterprise Carrier
	•	Fleet owners
	•	Transport companies
	•	Multi-truck dashboards

B. Solo Driver
	•	Single vehicle owner
	•	Mobile-first
	•	Simplified UI

Enterprise vs Solo affects UI density only, never access, bidding rights, or logic.

⸻

4. LOAD CREATION & PRICING (ADMIN-LED)

Step 1 — Shipper Submission
	•	Shipper submits load with:
	•	Origin / destination
	•	Cargo type
	•	Weight
	•	Pickup window
	•	Special instructions
	•	No price is visible or editable by shipper
	•	Load status = PENDING_PRICING
	•	Load visible only to Admin

Step 2 — Admin Pricing

Admin:
	•	Opens pending load
	•	Sees estimation tools (distance, fuel, truck type, seasonality, margin)
	•	Adjusts pricing manually if needed
	•	Locks internal margin
	•	Clicks Post to Carriers

At this moment:
	•	Load becomes visible to both Enterprise Carriers and Solo Drivers
	•	Load status = AWAITING_CARRIER_BIDS
	•	No invoice exists
	•	Shipper still sees no price

⸻

5. LOAD VISIBILITY — ONE LOAD, TWO CARRIER SURFACES

The same admin-posted load must appear simultaneously in:

Enterprise Carrier Marketplace
	•	Full details
	•	Accept price
	•	Place counter-bid
	•	See negotiation history with admin

Solo Driver Load Feed
	•	Simplified card
	•	Accept price
	•	Place counter-bid (amount + optional note)
	•	Minimal navigation

Both create identical bid records tied to the same load.

⸻

6. BIDDING & NEGOTIATION (ADMIN-CONTROLLED)

Carrier Actions

Both carrier types can:
	•	Accept admin price
	•	Submit counter-bid

Each bid must:
	•	Attach to the load
	•	Store carrier identity and type
	•	Notify Admin immediately
	•	Change load state to NEGOTIATION_IN_PROGRESS

Admin Negotiation Dashboard

For each load, Admin must see:
	•	All bids (enterprise + solo)
	•	Carrier name
	•	Carrier type
	•	Bid amount
	•	Timestamp
	•	Notes
	•	Truck/vehicle info (if available)

Admin can:
	•	Counter any bid
	•	Accept one bid
	•	Reject others
	•	Negotiate with multiple carriers in parallel

⸻

7. FINAL CARRIER SELECTION (SINGLE SOURCE OF TRUTH)

Once Admin accepts a carrier:
	•	Load status = CARRIER_FINALIZED
	•	All other bids auto-rejected
	•	Load is locked

Carrier effects:
	•	Winning carrier sees: “You’ve been awarded this load”
	•	Other carriers see: “Load no longer available”

This must behave identically for:
	•	Enterprise carriers
	•	Solo drivers

⸻

8. INVOICE GENERATION (POST-FINALIZATION ONLY)

Invoices are created only after carrier finalization.

Admin must:
	•	Generate final invoice
	•	Invoice must include:
	•	Final carrier
	•	Final negotiated price
	•	Admin margin (internal)
	•	Send invoice to shipper

Invoice rules:
	•	Invoice is never visible before carrier selection
	•	Invoice is never generated by shipper
	•	Invoice does not expose bidding or negotiation history

⸻

9. SHIPPER PORTAL — STRICTLY LIMITED

Shipper Can See:
	•	Load status
	•	Assigned carrier name (post-finalization)
	•	Final price
	•	Invoice
	•	Shipment tracking after assignment

Shipper Must NEVER See:
	•	Carrier list
	•	Carrier bids
	•	Negotiation history
	•	Marketplace
	•	Pricing tools

All shipper-side carrier interaction must be disabled or hidden, not redesigned.

⸻

10. EXECUTION PHASE

Once invoice is approved:
	•	Load moves to EXECUTION
	•	Carrier can start trip
	•	Tracking becomes visible to shipper
	•	Documents and POD flow normally
	•	Payment follows existing logic

⸻

11. DASHBOARD DIFFERENTIATION (SAME DATA, DIFFERENT SURFACE)

Enterprise Carrier Dashboard
	•	Marketplace
	•	Bid management
	•	Negotiation history
	•	Fleet & driver data
	•	Active trips
	•	Revenue analytics

Solo Driver Dashboard
	•	Available loads
	•	My bids
	•	My trips
	•	Earnings summary
	•	Minimal navigation

Backend logic is identical.

⸻

12. NOTIFICATIONS (DEEP-LINKED & ROLE-SAFE)

Every notification must:
	•	Open the exact load
	•	Open in correct state
	•	Respect role visibility

Examples:
	•	Carrier: “Counter received from admin”
	•	Admin: “New bid placed”
	•	Shipper: “Invoice available”

No cross-role leakage allowed.

⸻

13. STATE SYNCHRONIZATION (ZERO FRAGMENTATION)

Any action by:
	•	Carrier
	•	Admin
	•	Shipper

Must instantly update:
	•	Load state
	•	Visibility
	•	Allowed actions
	•	Notifications

Across all portals.

⸻

14. ACCEPTANCE TEST (HARD FAIL IF ANY STEP BREAKS)

A single load must:
	1.	Be submitted by shipper
	2.	Be priced by admin
	3.	Appear for enterprise carriers
	4.	Appear for solo drivers
	5.	Receive bids from both
	6.	Be negotiated by admin
	7.	Be finalized with one carrier
	8.	Generate invoice
	9.	Appear in shipper portal
	10.	Move to execution

If any role can bypass admin → FAIL

⸻

FINAL GOVERNANCE STATEMENT

This system is an admin-managed freight exchange.
	•	Admin controls price, negotiation, carrier selection, and invoicing
	•	Carriers compete fairly
	•	Shippers see only finalized truth
	•	Enterprise fleets and solo drivers coexist on the same loads

One load. One flow. One authority. Zero shortcuts.

Do not change features.
Do not add code.
Only enforce this behavior exactly.