(FINAL SYSTEM TWEAK & ENFORCEMENT ‚Äî DO NOT PARTIALLY IMPLEMENT)

You are acting as a principal system architect responsible for enforcing a real freight exchange, not a demo.

Your task is to tweak, correct, and fully synchronize the existing system so that:
	‚Ä¢	Every portal reflects the same truth
	‚Ä¢	Every button triggers a real state change
	‚Ä¢	No feature exists without a purpose
	‚Ä¢	No workflow is fragmented
	‚Ä¢	Admin is always the intermediary

You must implement behavior, permissions, sequencing, and state logic across frontend + backend, without changing unrelated features.

You must not stop until every rule below is enforced.

‚∏ª

1. CORE PRINCIPLE (OVERRIDES EVERYTHING)

This is NOT a peer-to-peer marketplace.

This is an ADMIN-MANAGED FREIGHT EXCHANGE.

Admin is the single point of control for:
	‚Ä¢	Pricing
	‚Ä¢	Negotiation
	‚Ä¢	Carrier selection
	‚Ä¢	Invoicing
	‚Ä¢	Final confirmation

Shippers and Carriers never interact directly.

‚∏ª

2. GLOBAL LOAD STATE ENGINE (MANDATORY)

Every load must exist in one and only one global state, visible consistently across all portals.

Enforce these states strictly:
	1.	SUBMITTED_BY_SHIPPER
	2.	PRICING_BY_ADMIN
	3.	POSTED_TO_MARKETPLACE
	4.	BIDDING_OPEN
	5.	NEGOTIATION_ACTIVE
	6.	CARRIER_FINALIZED
	7.	INVOICE_CREATED
	8.	INVOICE_SENT
	9.	INVOICE_ACKNOWLEDGED
	10.	INVOICE_PAID
	11.	IN_TRANSIT
	12.	COMPLETED

No button may bypass state rules.
If a button works visually but doesn‚Äôt update state everywhere ‚Üí FAIL.

‚∏ª

3. SHIPPER PORTAL ‚Äî STRIP IT TO WHAT MAKES SENSE

REMOVE COMPLETELY FROM SHIPPER:
	‚Ä¢	Carrier Directory
	‚Ä¢	Carrier profiles
	‚Ä¢	Negotiations page
	‚Ä¢	Nearby trucks
	‚Ä¢	Bidding visibility
	‚Ä¢	Messaging carriers
	‚Ä¢	Viewing invoices before bidding is finalized

SHIPPER IS ALLOWED ONLY:
	‚Ä¢	Submit load (NO price)
	‚Ä¢	View load status (admin-controlled labels)
	‚Ä¢	View assigned carrier (ONLY after finalization)
	‚Ä¢	View invoice (ONLY after admin sends it)
	‚Ä¢	Approve / counter / acknowledge invoice
	‚Ä¢	Pay invoice
	‚Ä¢	Track shipment

Shipper never triggers bidding.
Shipper never sees carriers competing.

‚∏ª

4. ADMIN ‚Äî CENTRAL CONTROL TOWER (MAJOR TWEAK)

ADMIN MUST HAVE THESE CORE PAGES:

A. Load Queue
	‚Ä¢	Shows all shipper-submitted loads
	‚Ä¢	Status: SUBMITTED_BY_SHIPPER / PRICING_BY_ADMIN
	‚Ä¢	Action: Price & Post

B. Marketplace Control (NEW BEHAVIOR)
When Admin posts a load:
	‚Ä¢	Load becomes visible in Carrier Marketplace
	‚Ä¢	State ‚Üí POSTED_TO_MARKETPLACE
	‚Ä¢	Admin price is shown as Admin Price
	‚Ä¢	Load is marked ‚ÄúPosted by Admin‚Äù

If carrier cannot see admin-posted loads ‚Üí FAIL

‚∏ª

5. CARRIER MARKETPLACE ‚Äî ENTERPRISE + SOLO (SAME LOADS)

BOTH MUST SEE:
	‚Ä¢	Admin-posted loads
	‚Ä¢	Shipper-origin loads priced by admin
	‚Ä¢	Fixed or negotiable price labels
	‚Ä¢	Simulated + real loads mixed naturally

DIFFERENCE IS UI ONLY:
	‚Ä¢	Enterprise: full dashboards
	‚Ä¢	Solo driver: simple, BlackBuck-style feed

CARRIER ACTIONS:
	‚Ä¢	Accept admin price
	‚Ä¢	Place bid / counter bid
	‚Ä¢	Add note
	‚Ä¢	See negotiation messages

‚∏ª

6. BID SYSTEM ‚Äî REAL + SIMULATED, ONE PIPELINE

WHEN ANY CARRIER BIDS:
	‚Ä¢	Create a bid record
	‚Ä¢	Attach to the load
	‚Ä¢	Trigger load state ‚Üí NEGOTIATION_ACTIVE
	‚Ä¢	Immediately surface in:
	‚Ä¢	Admin ‚Üí Negotiation Page
	‚Ä¢	Admin ‚Üí Load ‚Üí Bids tab
	‚Ä¢	Carrier ‚Üí My Bids
	‚Ä¢	Fire real-time notification to Admin

Simulated bids must:
	‚Ä¢	Behave exactly like real bids
	‚Ä¢	Appear in same lists
	‚Ä¢	Be negotiable
	‚Ä¢	Be rejectable

No split logic.

‚∏ª

7. NEGOTIATION ‚Äî CHATBOT-STYLE, ADMIN-LED

NEGOTIATION IS:
	‚Ä¢	Between Admin ‚Üî Carrier
	‚Ä¢	Never visible to shipper

IMPLEMENT AS:
	‚Ä¢	Chat-style negotiation thread per load
	‚Ä¢	Admin can:
	‚Ä¢	Counter price
	‚Ä¢	Ask clarifying questions
	‚Ä¢	Accept bid
	‚Ä¢	Carrier can:
	‚Ä¢	Accept counter
	‚Ä¢	Counter again
	‚Ä¢	Withdraw

RULES:
	‚Ä¢	Multiple carriers can negotiate simultaneously
	‚Ä¢	Admin can finalize ONLY ONE
	‚Ä¢	Finalizing auto-rejects others
	‚Ä¢	State ‚Üí CARRIER_FINALIZED

Negotiation must appear:
	‚Ä¢	In Admin (full control)
	‚Ä¢	In Carrier (their own thread)

‚∏ª

8. CARRIER FINALIZATION ‚Üí INVOICE UNLOCK (FIX THIS)

Before finalization:
‚ùå No invoice exists
‚ùå No shipper invoice page

After admin finalizes carrier:
	‚Ä¢	Unlock ‚ÄúCreate & Send Invoice‚Äù button in Admin
	‚Ä¢	State ‚Üí INVOICE_CREATED

‚∏ª

9. INVOICE SYSTEM ‚Äî ADMIN-CONTROLLED, TRACKABLE

ADMIN INVOICE PAGE (NEW / FIXED)

Must show:
	‚Ä¢	Invoice ID
	‚Ä¢	Linked load
	‚Ä¢	Linked carrier
	‚Ä¢	Shipper name
	‚Ä¢	Amount
	‚Ä¢	Status:
	‚Ä¢	Created
	‚Ä¢	Sent
	‚Ä¢	Acknowledged
	‚Ä¢	Paid
	‚Ä¢	Due date
	‚Ä¢	Payment status

ADMIN ACTIONS:
	‚Ä¢	Send invoice to shipper
	‚Ä¢	Resend
	‚Ä¢	Mark paid (if manual)
	‚Ä¢	View acknowledgment

‚∏ª

10. SHIPPER INVOICE VISIBILITY (STRICT)

Shipper must:
	‚Ä¢	NOT see invoices before bidding ends
	‚Ä¢	See invoice ONLY after admin sends it
	‚Ä¢	Be able to:
	‚Ä¢	View
	‚Ä¢	Approve
	‚Ä¢	Counter (with reason)
	‚Ä¢	Pay

Invoice counters must:
	‚Ä¢	Go back to Admin
	‚Ä¢	Re-open negotiation context (price adjustment only)

‚∏ª

11. CARRIER INVOICE AWARENESS

Carrier must see:
	‚Ä¢	Final agreed rate
	‚Ä¢	Confirmation that invoice is sent
	‚Ä¢	Payment status (pending / paid)
	‚Ä¢	Linked to their awarded load

Carrier never sends invoices.

‚∏ª

12. CARRIER MANAGEMENT ‚Äî CLEAN SEPARATION

ADMIN ‚Üí CARRIERS PAGE
	‚Ä¢	Shows ONLY VERIFIED carriers
	‚Ä¢	Can receive loads
	‚Ä¢	Can bid

ADMIN ‚Üí VERIFICATION PAGE
	‚Ä¢	Shows:
	‚Ä¢	Pending
	‚Ä¢	Rejected
	‚Ä¢	Suspended
	‚Ä¢	Shows uploaded documents
	‚Ä¢	Clearly marks:
	‚Ä¢	Solo Driver
	‚Ä¢	Fleet / Company

Unverified carriers:
‚ùå Cannot see marketplace
‚ùå Cannot bid

‚∏ª

13. REGISTRATION ‚Äî TWO DISTINCT FLOWS

A. SOLO DRIVER
	‚Ä¢	Personal name
	‚Ä¢	Phone
	‚Ä¢	Vehicle details
	‚Ä¢	License
	‚Ä¢	Minimal docs

B. COMPANY / FLEET
	‚Ä¢	Company name
	‚Ä¢	GST / registration
	‚Ä¢	Fleet size
	‚Ä¢	Admin contact
	‚Ä¢	More documents

Tag carriers internally:
	‚Ä¢	SOLO_DRIVER
	‚Ä¢	ENTERPRISE_CARRIER

This tag controls dashboard depth, NOT access to loads.

‚∏ª

14. NOTIFICATIONS ‚Äî MUST OPEN REAL DATA

Every notification must:
	‚Ä¢	Open the exact load
	‚Ä¢	Open correct tab (bid, negotiation, invoice)
	‚Ä¢	Reflect latest state

Examples:
	‚Ä¢	‚ÄúNew bid received‚Äù ‚Üí Admin ‚Üí Negotiation view
	‚Ä¢	‚ÄúCounter from admin‚Äù ‚Üí Carrier ‚Üí Chat
	‚Ä¢	‚ÄúInvoice sent‚Äù ‚Üí Shipper ‚Üí Invoice page

Notifications without access = FAIL

‚∏ª
15. REMOVE BROKEN / MEANINGLESS FEATURES (CLARIFIED & CORRECTED)

DO NOT REMOVE OR DISABLE:
	‚Ä¢	Negotiation workflows
	‚Ä¢	Bidding workflows
	‚Ä¢	Chat-based negotiations
	‚Ä¢	Simulated + real bids
	‚Ä¢	Admin ‚Üî Carrier negotiation
	‚Ä¢	Bid visibility pages
	‚Ä¢	Real-time notifications
	‚Ä¢	Frontend negotiation UI
	‚Ä¢	Backend bid & negotiation logic

These are CORE FEATURES and must remain fully functional.

‚∏ª

REMOVE OR DISABLE ONLY THE FOLLOWING (STRICTLY):

A. SHIPPER-SIDE FEATURES THAT BREAK THE ADMIN-MEDIATED MODEL
	‚Ä¢	Shipper-side negotiation pages
	‚Ä¢	Shipper ability to view bids
	‚Ä¢	Shipper ability to message or negotiate with carriers
	‚Ä¢	Shipper ability to browse carrier directory
	‚Ä¢	Shipper ability to trigger bidding or post to marketplace

üëâ Shipper must never be part of negotiation logic.

‚∏ª

B. FAKE / DEAD-END UI ELEMENTS
	‚Ä¢	Any button that:
	‚Ä¢	Shows a success message
	‚Ä¢	But does not update global load state
	‚Ä¢	Or does not sync across portals
	‚Ä¢	Any page that:
	‚Ä¢	Displays static data
	‚Ä¢	Does not reflect real or simulated backend records
	‚Ä¢	Any notification that:
	‚Ä¢	Opens a blank page
	‚Ä¢	Opens a page without the referenced load/bid/invoice

If a UI element does not change system state, it must be disabled or fixed.

‚∏ª

C. UNSYNCHRONIZED PAGES
	‚Ä¢	Pages that show data not reflected elsewhere
	‚Ä¢	Pages that do not respond to real-time actions
	‚Ä¢	Pages that do not update after:
	‚Ä¢	Bid submission
	‚Ä¢	Counter offer
	‚Ä¢	Carrier finalization
	‚Ä¢	Invoice send / approve / pay

All pages must read from the same underlying state.

‚∏ª

üîÑ 16. NEGOTIATION & BIDDING (EXPLICITLY PRESERVED & ENHANCED)

NEGOTIATIONS MUST:
	‚Ä¢	Be chatbot-style (conversation thread per load)
	‚Ä¢	Exist ONLY between:
	‚Ä¢	Admin ‚Üî Carrier
	‚Ä¢	Support:
	‚Ä¢	Real bids
	‚Ä¢	Simulated bids
	‚Ä¢	Counter offers
	‚Ä¢	Notes
	‚Ä¢	Status changes
	‚Ä¢	Be visible in:
	‚Ä¢	Admin Portal (full view of all carriers)
	‚Ä¢	Carrier Portal (only their own negotiation)

‚∏ª

BIDS PAGE (FRONTEND + BACKEND ‚Äî MANDATORY)

You must enforce a dedicated Bids page that:
	‚Ä¢	Shows all bids for a load
	‚Ä¢	Mixes:
	‚Ä¢	Real carrier bids
	‚Ä¢	Simulated bids
	‚Ä¢	Allows Admin to:
	‚Ä¢	Compare bids
	‚Ä¢	Counter bids
	‚Ä¢	Accept / reject bids
	‚Ä¢	Updates in real time when:
	‚Ä¢	New bids arrive
	‚Ä¢	Counters are sent
	‚Ä¢	A carrier is finalized

If bids exist but are not visible here ‚Üí FAIL

‚∏ª

üîî 17. REAL-TIME NOTIFICATIONS (STRICT)

Every activity must generate a notification that:
	‚Ä¢	Opens the exact load
	‚Ä¢	Opens the correct context:
	‚Ä¢	Bid
	‚Ä¢	Negotiation chat
	‚Ä¢	Invoice
	‚Ä¢	Reflects the latest state

Examples:
	‚Ä¢	Carrier submits bid ‚Üí Admin sees it instantly
	‚Ä¢	Admin counters ‚Üí Carrier sees it in negotiation chat
	‚Ä¢	Admin finalizes ‚Üí All other bids auto-close
	‚Ä¢	Invoice sent ‚Üí Shipper sees invoice page
	‚Ä¢	Invoice countered ‚Üí Admin notified with reason

No stale notifications. No dead clicks.

‚∏ª

üß† FINAL CLARIFICATION (FOR THE BUILDER)

You are NOT removing workflows.
You are removing confusion, duplication, and broken logic.

The platform must feel like:
	‚Ä¢	One living system
	‚Ä¢	One source of truth
	‚Ä¢	One negotiation brain (Admin)
	‚Ä¢	One marketplace surface (Carrier)
	‚Ä¢	One approval surface (Shipper)

If a feature exists, it must:
	‚Ä¢	Do something real
	‚Ä¢	Update the ecosystem
	‚Ä¢	Be visible everywhere it matters

Otherwise, it must be fixed or disabled.


‚∏ª

16. SYSTEM-WIDE SYNCHRONIZATION RULE

Any action in any portal must:
	‚Ä¢	Update load state
	‚Ä¢	Update dashboards
	‚Ä¢	Update notifications
	‚Ä¢	Update available actions
	‚Ä¢	Reflect instantly across:
	‚Ä¢	Admin
	‚Ä¢	Carrier
	‚Ä¢	Shipper

If one portal updates and others don‚Äôt ‚Üí FAIL

‚∏ª

17. FINAL ACCEPTANCE TEST (NON-NEGOTIABLE)

A single load must be able to:
	1.	Be submitted by shipper
	2.	Be priced by admin
	3.	Appear in carrier marketplace
	4.	Receive bids (real + simulated)
	5.	Enter admin negotiation
	6.	Be countered
	7.	Be finalized
	8.	Unlock invoice
	9.	Send invoice
	10.	Be acknowledged / paid
	11.	Move to execution

If any step breaks, you must continue fixing.

‚∏ª

FINAL DIRECTIVE

You are not building screens.
You are enforcing a real freight exchange logic.

Admin is the broker.
Carriers compete.
Shipper sees finalized truth.

One ecosystem.
One state engine.
Zero silos.

Do not stop working until all of this is enforced.
